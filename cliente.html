
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Clientes</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Spa Edna Moda</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
            <li class="nav-item"><a class="nav-link" href="servicios.html">Servicios</a></li>
            <li class="nav-item"><a class="nav-link" href="registro.html">Contacto</a></li>
            <li class="nav-item"><a class="nav-link active" href="clientes.html">Clientes</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container mt-4">
      <h2 class="mb-4">Listado de Clientes</h2>
      <div id="tabla-clientes" class="table-responsive">
        <!-- Aquí se cargará la tabla -->
      </div>
    </div>

    <script>
      fetch('http://localhost:3000/clientes')
        .then(res => res.json())
        .then(data => {
          const tabla = document.createElement('table');
          tabla.classList.add('table', 'table-striped', 'table-bordered');
          tabla.innerHTML = `
            <thead>
              <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Email</th>
                <th>Teléfono</th>
              </tr>
            </thead>
            <tbody>
              ${data
                .map(
                  cliente => `
                <tr>
                  <td>${cliente.cliente_id}</td>
                  <td>${cliente.nombre}</td>
                  <td>${cliente.apellido}</td>
                  <td>${cliente.email}</td>
                  <td>${cliente.telefono || 'No registrado'}</td>
                </tr>
              `
                )
                .join('')}
            </tbody>
          `;
          document.getElementById('tabla-clientes').appendChild(tabla);
        })
        .catch(err => {
          console.error('Error al cargar los datos:', err);
          document.getElementById('tabla-clientes').innerHTML = '<p class="text-danger">Error al cargar los datos.</p>';
        });
    </script>
  </body>
</html>
